{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/elianastanford/hackathing2/components/busychart.tsx"],"sourcesContent":["\"use client\";\n\nimport { ResponsiveContainer, BarChart, Bar, XAxis, YAxis, Tooltip, Legend } from \"recharts\";\n\nexport default function BusyChart({\n  weekly,\n}: {\n  weekly: { weekStartISO: string; Academic: number; Social: number; Other: number }[];\n}) {\n  return (\n    <div style={{ width: \"100%\", height: 320 }}>\n      <ResponsiveContainer>\n        <BarChart data={weekly}>\n          <XAxis dataKey=\"weekStartISO\" />\n          <YAxis />\n          <Tooltip />\n          <Legend />\n          <Bar dataKey=\"Academic\" />\n          <Bar dataKey=\"Social\" />\n          <Bar dataKey=\"Other\" />\n        </BarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;AAIe,SAAS,UAAU,EAChC,MAAM,EAGP;IACC,qBACE,8OAAC;QAAI,OAAO;YAAE,OAAO;YAAQ,QAAQ;QAAI;kBACvC,cAAA,8OAAC,0LAAmB;sBAClB,cAAA,8OAAC,gKAAQ;gBAAC,MAAM;;kCACd,8OAAC,8JAAK;wBAAC,SAAQ;;;;;;kCACf,8OAAC,8JAAK;;;;;kCACN,8OAAC,kKAAO;;;;;kCACR,8OAAC,gKAAM;;;;;kCACP,8OAAC,0JAAG;wBAAC,SAAQ;;;;;;kCACb,8OAAC,0JAAG;wBAAC,SAAQ;;;;;;kCACb,8OAAC,0JAAG;wBAAC,SAAQ;;;;;;;;;;;;;;;;;;;;;;AAKvB"}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///Users/elianastanford/hackathing2/components/busytable.tsx"],"sourcesContent":["export default function BusyTable({\n    weekly,\n  }: {\n    weekly: { weekStartISO: string; Academic: number; Social: number; Other: number }[];\n  }) {\n    return (\n      <div style={{ overflowX: \"auto\" }}>\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr>\n              <th style={{ textAlign: \"left\", borderBottom: \"1px solid #ddd\", padding: 8 }}>\n                Week starting\n              </th>\n              <th style={{ textAlign: \"right\", borderBottom: \"1px solid #ddd\", padding: 8 }}>\n                Academic (hrs)\n              </th>\n              <th style={{ textAlign: \"right\", borderBottom: \"1px solid #ddd\", padding: 8 }}>\n                Social (hrs)\n              </th>\n              <th style={{ textAlign: \"right\", borderBottom: \"1px solid #ddd\", padding: 8 }}>\n                Other (hrs)\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {weekly.map((w) => (\n              <tr key={w.weekStartISO}>\n                <td style={{ padding: 8, borderBottom: \"1px solid #f0f0f0\" }}>{w.weekStartISO}</td>\n                <td style={{ padding: 8, textAlign: \"right\", borderBottom: \"1px solid #f0f0f0\" }}>\n                  {w.Academic.toFixed(1)}\n                </td>\n                <td style={{ padding: 8, textAlign: \"right\", borderBottom: \"1px solid #f0f0f0\" }}>\n                  {w.Social.toFixed(1)}\n                </td>\n                <td style={{ padding: 8, textAlign: \"right\", borderBottom: \"1px solid #f0f0f0\" }}>\n                  {w.Other.toFixed(1)}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    );\n  }\n  "],"names":[],"mappings":";;;;;;AAAe,SAAS,UAAU,EAC9B,MAAM,EAGP;IACC,qBACE,8OAAC;QAAI,OAAO;YAAE,WAAW;QAAO;kBAC9B,cAAA,8OAAC;YAAM,OAAO;gBAAE,OAAO;gBAAQ,gBAAgB;YAAW;;8BACxD,8OAAC;8BACC,cAAA,8OAAC;;0CACC,8OAAC;gCAAG,OAAO;oCAAE,WAAW;oCAAQ,cAAc;oCAAkB,SAAS;gCAAE;0CAAG;;;;;;0CAG9E,8OAAC;gCAAG,OAAO;oCAAE,WAAW;oCAAS,cAAc;oCAAkB,SAAS;gCAAE;0CAAG;;;;;;0CAG/E,8OAAC;gCAAG,OAAO;oCAAE,WAAW;oCAAS,cAAc;oCAAkB,SAAS;gCAAE;0CAAG;;;;;;0CAG/E,8OAAC;gCAAG,OAAO;oCAAE,WAAW;oCAAS,cAAc;oCAAkB,SAAS;gCAAE;0CAAG;;;;;;;;;;;;;;;;;8BAKnF,8OAAC;8BACE,OAAO,GAAG,CAAC,CAAC,kBACX,8OAAC;;8CACC,8OAAC;oCAAG,OAAO;wCAAE,SAAS;wCAAG,cAAc;oCAAoB;8CAAI,EAAE,YAAY;;;;;;8CAC7E,8OAAC;oCAAG,OAAO;wCAAE,SAAS;wCAAG,WAAW;wCAAS,cAAc;oCAAoB;8CAC5E,EAAE,QAAQ,CAAC,OAAO,CAAC;;;;;;8CAEtB,8OAAC;oCAAG,OAAO;wCAAE,SAAS;wCAAG,WAAW;wCAAS,cAAc;oCAAoB;8CAC5E,EAAE,MAAM,CAAC,OAAO,CAAC;;;;;;8CAEpB,8OAAC;oCAAG,OAAO;wCAAE,SAAS;wCAAG,WAAW;wCAAS,cAAc;oCAAoB;8CAC5E,EAAE,KAAK,CAAC,OAAO,CAAC;;;;;;;2BATZ,EAAE,YAAY;;;;;;;;;;;;;;;;;;;;;AAiBnC"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///Users/elianastanford/hackathing2/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { signIn, signOut, useSession } from \"next-auth/react\";\nimport { useEffect, useState } from \"react\";\nimport { format } from \"date-fns\";\nimport BusyChart from \"../components/busychart\";\nimport BusyTable from \"../components/busytable\";\n\ntype Weekly = {\n  weekStartISO: string;\n  Academic: number;\n  Social: number;\n  Other: number;\n};\n\ntype EventItem = {\n  id: string;\n  title: string;\n  startISO: string;\n  hours: number;\n};\n\ntype WeeklyDetails = Record<\n  string,\n  { Academic: EventItem[]; Social: EventItem[]; Other: EventItem[] }\n>;\n\nfunction formatWeekLabel(weekStartISO: string) {\n  return format(new Date(weekStartISO), \"MMM d\"); // \"Jan 28\"\n}\n\nfunction formatEventTime(startISO: string) {\n  return format(new Date(startISO), \"MMM d, h:mma\"); // \"Jan 28, 3:30PM\"\n}\n\nexport default function HomePage() {\n  const { data: session, status } = useSession();\n  const [weekly, setWeekly] = useState<Weekly[]>([]);\n  const [weeklyDetails, setWeeklyDetails] = useState<WeeklyDetails>({});\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (status !== \"authenticated\") return;\n\n    (async () => {\n      setError(null);\n      const res = await fetch(\"/api/events\");\n      if (!res.ok) {\n        const msg = await res.text();\n        setError(msg || \"Failed to load events\");\n        return;\n      }\n      const data = await res.json();\n      setWeekly(data.weekly ?? []);\n      setWeeklyDetails(data.weeklyDetails ?? {});\n    })();\n  }, [status]);\n\n  return (\n    <main\n      style={{\n        maxWidth: 920,\n        margin: \"60px auto\",\n        padding: \"0 16px\",\n        fontFamily: \"inherit\",\n      }}\n    >\n      {/* Header */}\n      <header style={{ marginBottom: 32 }}>\n        <h1 style={{ fontSize: 34, fontWeight: 600, marginBottom: 6 }}>\n          Busy-ness Report\n        </h1>\n        <p style={{ color: \"#666\", fontSize: 15 }}>\n          Your next 4 weeks, categorized into <b>Academic</b>, <b>Social</b>, and{\" \"}\n          <b>Other</b>.\n        </p>\n      </header>\n\n      {/* Auth card */}\n      <section\n        style={{\n          background: \"#fff\",\n          borderRadius: 18,\n          padding: 20,\n          marginBottom: 24,\n          boxShadow: \"0 10px 30px rgba(0,0,0,0.06)\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          gap: 12,\n          flexWrap: \"wrap\",\n        }}\n      >\n        {status !== \"authenticated\" ? (\n          <button onClick={() => signIn(\"google\")} style={primaryButton}>\n            Sign in with Google\n          </button>\n        ) : (\n          <>\n            <div style={{ color: \"#444\", fontSize: 14 }}>\n              Signed in as <b>{session?.user?.email}</b>\n            </div>\n            <button onClick={() => signOut()} style={secondaryButton}>\n              Sign out\n            </button>\n          </>\n        )}\n      </section>\n\n      {/* Error */}\n      {error && (\n        <div\n          style={{\n            background: \"#fff0f0\",\n            color: \"#a40000\",\n            padding: 16,\n            borderRadius: 14,\n            marginBottom: 20,\n            boxShadow: \"0 4px 12px rgba(0,0,0,0.04)\",\n            whiteSpace: \"pre-wrap\",\n            wordBreak: \"break-word\",\n          }}\n        >\n          {error}\n        </div>\n      )}\n\n      {/* Content */}\n      {status === \"authenticated\" && weekly.length > 0 && (\n        <div style={{ display: \"grid\", gap: 24 }}>\n          <Card>\n            <BusyChart weekly={weekly} />\n          </Card>\n\n          <Card>\n            <BusyTable weekly={weekly} />\n          </Card>\n\n          {/* NEW: Event lists by category per week */}\n          <Card>\n            <h2 style={{ margin: 0, fontSize: 18, fontWeight: 600 }}>\n              What counted (by week)\n            </h2>\n            <p style={{ marginTop: 6, color: \"#666\", fontSize: 13 }}>\n              Expand a week to see which events were categorized as Academic /\n              Social / Other.\n            </p>\n\n            <div style={{ display: \"grid\", gap: 12, marginTop: 14 }}>\n              {weekly.map((w) => {\n                const details = weeklyDetails[w.weekStartISO];\n                return (\n                  <details\n                    key={w.weekStartISO}\n                    style={{\n                      border: \"1px solid #eee\",\n                      borderRadius: 14,\n                      padding: 12,\n                      background: \"#fafafa\",\n                    }}\n                  >\n                    <summary style={{ cursor: \"pointer\", fontWeight: 600 }}>\n                      Week of {formatWeekLabel(w.weekStartISO)}\n                      <span style={{ color: \"#777\", fontWeight: 500 }}>\n                        {\" \"}\n                        — Academic {w.Academic.toFixed(1)}h · Social{\" \"}\n                        {w.Social.toFixed(1)}h · Other {w.Other.toFixed(1)}h\n                      </span>\n                    </summary>\n\n                    {!details ? (\n                      <div style={{ marginTop: 10, color: \"#666\", fontSize: 13 }}>\n                        No event details returned for this week.\n                      </div>\n                    ) : (\n                      <div style={{ marginTop: 10 }}>\n                        <EventGroup title=\"Academic\" events={details.Academic} />\n                        <EventGroup title=\"Social\" events={details.Social} />\n                        <EventGroup title=\"Other\" events={details.Other} />\n                      </div>\n                    )}\n                  </details>\n                );\n              })}\n            </div>\n          </Card>\n        </div>\n      )}\n\n      {status === \"authenticated\" && !error && weekly.length === 0 && (\n        <Card>\n          <p style={{ color: \"#666\" }}>No events found in the next 4 weeks.</p>\n        </Card>\n      )}\n    </main>\n  );\n}\n\nfunction EventGroup({ title, events }: { title: string; events: EventItem[] }) {\n  if (!events || events.length === 0) return null;\n\n  const sorted = [...events].sort(\n    (a, b) => new Date(a.startISO).getTime() - new Date(b.startISO).getTime()\n  );\n\n  return (\n    <div style={{ marginTop: 10 }}>\n      <div style={{ fontWeight: 600, marginBottom: 6 }}>{title}</div>\n      <ul style={{ margin: 0, paddingLeft: 18 }}>\n        {sorted.map((e) => (\n          <li key={e.id} style={{ marginBottom: 4, color: \"#444\" }}>\n            {formatEventTime(e.startISO)} — {e.title}{\" \"}\n            <span style={{ color: \"#888\" }}>({e.hours.toFixed(1)}h)</span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nconst primaryButton: React.CSSProperties = {\n  background: \"#111\",\n  color: \"#fff\",\n  border: \"none\",\n  padding: \"12px 18px\",\n  borderRadius: 999,\n  fontSize: 14,\n  fontWeight: 500,\n  cursor: \"pointer\",\n};\n\nconst secondaryButton: React.CSSProperties = {\n  background: \"#f2f2f2\",\n  color: \"#111\",\n  border: \"none\",\n  padding: \"10px 16px\",\n  borderRadius: 999,\n  fontSize: 14,\n  fontWeight: 500,\n  cursor: \"pointer\",\n};\n\nfunction Card({ children }: { children: React.ReactNode }) {\n  return (\n    <div\n      style={{\n        background: \"#fff\",\n        borderRadius: 18,\n        padding: 20,\n        boxShadow: \"0 10px 30px rgba(0,0,0,0.06)\",\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}