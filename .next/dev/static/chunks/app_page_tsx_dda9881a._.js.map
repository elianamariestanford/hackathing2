{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/elianastanford/hackathing2/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { signIn, signOut, useSession } from \"next-auth/react\";\nimport { useEffect, useState } from \"react\";\nimport BusyChart from \"@/components/BusyChart\";\nimport BusyTable from \"@/components/BusyTable\";\n\ntype Weekly = { weekStartISO: string; Academic: number; Social: number; Other: number };\n\nexport default function HomePage() {\n  const { data: session, status } = useSession();\n  const [weekly, setWeekly] = useState<Weekly[]>([]);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (status !== \"authenticated\") return;\n\n    (async () => {\n      setError(null);\n      const res = await fetch(\"/api/events\");\n      if (!res.ok) {\n        const msg = await res.text();\n        setError(msg || \"Failed to load events\");\n        return;\n      }\n      const data = await res.json();\n      setWeekly(data.weekly ?? []);\n    })();\n  }, [status]);\n\n  return (\n    <main style={{ maxWidth: 900, margin: \"40px auto\", padding: 16 }}>\n      <h1 style={{ fontSize: 28, marginBottom: 8 }}>Busy-ness Report (Next 4 Weeks)</h1>\n      <p style={{ marginTop: 0, color: \"#555\" }}>\n        Categorizes calendar events into Academic / Social / Other using simple keywords.\n      </p>\n\n      {status !== \"authenticated\" ? (\n        <button onClick={() => signIn(\"google\")} style={{ padding: \"10px 14px\" }}>\n          Sign in with Google\n        </button>\n      ) : (\n        <div style={{ display: \"flex\", gap: 12, alignItems: \"center\", marginBottom: 16 }}>\n          <div style={{ color: \"#333\" }}>\n            Signed in as <b>{session?.user?.email}</b>\n          </div>\n          <button onClick={() => signOut()} style={{ padding: \"8px 12px\" }}>\n            Sign out\n          </button>\n        </div>\n      )}\n\n      {error && (\n        <div style={{ background: \"#fee\", padding: 12, borderRadius: 8, marginBottom: 12 }}>\n          {error}\n        </div>\n      )}\n\n      {status === \"authenticated\" && weekly.length > 0 && (\n        <>\n          <BusyChart weekly={weekly} />\n          <div style={{ height: 12 }} />\n          <BusyTable weekly={weekly} />\n        </>\n      )}\n\n      {status === \"authenticated\" && !error && weekly.length === 0 && (\n        <p>No events found (or all were 0-duration) in the next 4 weeks.</p>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;;;;;;;;;AAHA;;;;;AASe,SAAS;;IACtB,MAAM,EAAE,MAAM,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,+JAAU;IAC5C,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yKAAQ,EAAW,EAAE;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAgB;IAElD,IAAA,0KAAS;8BAAC;YACR,IAAI,WAAW,iBAAiB;YAEhC;sCAAC;oBACC,SAAS;oBACT,MAAM,MAAM,MAAM,MAAM;oBACxB,IAAI,CAAC,IAAI,EAAE,EAAE;wBACX,MAAM,MAAM,MAAM,IAAI,IAAI;wBAC1B,SAAS,OAAO;wBAChB;oBACF;oBACA,MAAM,OAAO,MAAM,IAAI,IAAI;oBAC3B,UAAU,KAAK,MAAM,IAAI,EAAE;gBAC7B;aAAC;QACH;6BAAG;QAAC;KAAO;IAEX,qBACE,6LAAC;QAAK,OAAO;YAAE,UAAU;YAAK,QAAQ;YAAa,SAAS;QAAG;;0BAC7D,6LAAC;gBAAG,OAAO;oBAAE,UAAU;oBAAI,cAAc;gBAAE;0BAAG;;;;;;0BAC9C,6LAAC;gBAAE,OAAO;oBAAE,WAAW;oBAAG,OAAO;gBAAO;0BAAG;;;;;;YAI1C,WAAW,gCACV,6LAAC;gBAAO,SAAS,IAAM,IAAA,2JAAM,EAAC;gBAAW,OAAO;oBAAE,SAAS;gBAAY;0BAAG;;;;;qCAI1E,6LAAC;gBAAI,OAAO;oBAAE,SAAS;oBAAQ,KAAK;oBAAI,YAAY;oBAAU,cAAc;gBAAG;;kCAC7E,6LAAC;wBAAI,OAAO;4BAAE,OAAO;wBAAO;;4BAAG;0CAChB,6LAAC;0CAAG,SAAS,MAAM;;;;;;;;;;;;kCAElC,6LAAC;wBAAO,SAAS,IAAM,IAAA,4JAAO;wBAAI,OAAO;4BAAE,SAAS;wBAAW;kCAAG;;;;;;;;;;;;YAMrE,uBACC,6LAAC;gBAAI,OAAO;oBAAE,YAAY;oBAAQ,SAAS;oBAAI,cAAc;oBAAG,cAAc;gBAAG;0BAC9E;;;;;;YAIJ,WAAW,mBAAmB,OAAO,MAAM,GAAG,mBAC7C;;kCACE,6LAAC;wBAAU,QAAQ;;;;;;kCACnB,6LAAC;wBAAI,OAAO;4BAAE,QAAQ;wBAAG;;;;;;kCACzB,6LAAC;wBAAU,QAAQ;;;;;;;;YAItB,WAAW,mBAAmB,CAAC,SAAS,OAAO,MAAM,KAAK,mBACzD,6LAAC;0BAAE;;;;;;;;;;;;AAIX;GA9DwB;;QACY,+JAAU;;;KADtB"}}]
}